<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<title>Approaches to full justification</title>
<meta name="description" content="Provides an overview of text justification strategies, and advice to authors and implementers." />
<script type="text/javascript">
var f = { }

// AUTHORS should fill in these assignments:
f.directory = 'articles/typography'+'/'; // the path to this file, not including /International or the file name
f.filename = 'justification'; // the file name WITHOUT extensions
f.authors = 'Elika J. Etemad / fantasai'; // author(s) and affiliations
f.previousauthors = ''; // as above
f.modifiers = 'Richard Ishida, W3C'; // people making substantive changes, and their affiliation
f.searchString = 'article-justification'; // blog search string - usually the filename without extensions
f.firstPubDate = '2017-01-25'; // date of the first publication of the document (after review)
f.lastSubstUpdate = { date:'2017-01-25', time:'12:41'}  // date and time of latest substantive changes to this document
f.status = 'draft';  // should be one of draft, review, published, notreviewed or obsolete
f.path = '../../' // what you need to prepend to a URL to get to the /International directory 

// AUTHORS AND TRANSLATORS should fill in these assignments:
f.thisVersion = { date:'2017-01-25', time:'12:41'} // date and time of latest edits to this document/translation
f.contributors = ''; // people providing useful contributions or feedback during review or at other times
// also make sure that the lang attribute on the html tag is correct!

// TRANSLATORS should fill in these assignments:
f.translators = 'xxxNAME, ORG'; // translator(s) and their affiliation - a elements allowed, but use double quotes for attributes

f.breadcrumb = 'characters';

f.additionalLinks = ''
</script>
<script type="text/javascript" src="justification-data/translations.js"> </script>
<script type="text/javascript" src="../../javascript/doc-structure/article-dt.js"> </script>
<script type="text/javascript" src="../../javascript/boilerplate-text/boilerplate-en.js"></script><!--TRANSLATORS must change -en to the subtag for their language!-->
<script type="text/javascript" src="../../javascript/doc-structure/article.js"> </script>
<script type="text/javascript" src="../../javascript/articletoc-html5.js"></script>
<link rel="stylesheet" href="../../style/article-2016.css" type="text/css" />
<link rel="copyright" href="#copyright"/>
<!--[if lt IE 9]><script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
<style type="text/css" media="all">
th.bytes {
	font-size: 20px;
}
</style>
</head>

<body>
<header>
  <nav id="mainNavigation"></nav><script>document.getElementById('mainNavigation').innerHTML = mainNavigation</script>
  
  <h1>Approaches to full justification</h1>
</header>


<section>
  <div id="audience">
    <p><span id="intendedAudience" class="leadin">Intended audience:</span> 
    browser implementers, specification developers, and anyone who would like to get a better idea about how full justification differs for writing systems around the world. </p>
    <div id="updateInfo"></div><script>document.getElementById('updateInfo').innerHTML = g.updated</script>
  </div>
  
  <p class="ed">The version of this article that you are currently reading contains a large amount of change-marked text for discussion. After discussion has happened, that should be cleared up.</p>
  <p>This article gives a high level summary of various typographic strategies for fully justifying text on a line and in a paragraph for a variety of scripts, and offers some advice to authors and implementers.</p>
  <p>Since the amount of content on a line tends to vary, even if minutely, from line to line within a paragraph, typographers have come up with various methods for effective full justification – causing the text to completely fill the line – in order to create visual alignment on both edges of a paragraph.</p>
  <p>Typographic conventions for full text justification depend on the writing system, the content language, and the calligraphic style of the text. Results also tend to vary based on the capabilities of the layout engine and a given typographer’s preferences for weighing its various detrimental effects on typographic color and readability.</p>
  <p>This article provides a hint at some of the different strategies used in different writing systems, but the devil is very much in the detail. Furthermore, other factors such as line-break rules, hyphenation, and other inline features, have to be taken into account during justification.</p>
  <p>For more detailed information about how justification happens in various scripts, see the <a href="http://w3c.github.io/typography/#justification">International text layout and typography index</a>.</p>
</section>


<section>
  <h2 id="sec_survey"><a href="#sec_survey">A survey of script behaviors</a></h2>
      <section>
        <h3 id="chinese"><a href="#chinese">Chinese Writing System (Han Ideographs)</a></h3>
        <p>Historically, Chinese was written as Han ideographs, with no punctuation.
          Under this system, justification was automatic,
          as the characters fit perfectly into a square grid.
          However, the introduction of punctuation in recent centuries,
          plus the increase in mixed-script text
          (such as the inclusion of European numbers and/or words, phrases, names, and trademarks)
          has created a need for adjustments within a line.</p>
        <p>Chinese notably does not use word spaces,
          so these do not provide a justification opportunity within the lines;
          thus justification techniques focus on adjustments to spacing around punctuation,
          script-change boundaries,
          and inter-character spacing.</p>
        <p>Chinese (and also Japanese and Korean) normally wraps native text at the end of a line on a character-by-character basis, rather than wrapping a whole word, or hyphenating between specific parts of a word, as in English. This can make it easier to justify a line or paragraph. On the other hand, character-based wrapping of this kind is usually accompanied by rules about what characters can or can't appear at the end or beginning of a line. For example, a closing parenthesis shouldn't appear at the start of a new line, and an opening parenthesis shouldn't appear at the end of a line. These rules can open up space at the end of a line which justification needs to deal with.</p>
      </section>
      <section>
        <h3 id="japanese"><a href="#japanese">Japanese Writing System</a></h3>
        <p>Like Chinese, Japanese was historically written in Han ideographs;
          however it has since developed its own phonetic scripts
          Hiragana and Katakana (collectively, Kana).
          While pure kana texts do exist,
          particularly in children’s literature,
          Han ideographs (Kanji, in Japanese) continue to be an integral part of normal Japanese text,
          and are interspersed with kana within a sentence.</p>
        <p>Like Chinese, Japanese embraced European-inspired punctuation, numerals, and other foreign snippets
          that don’t conform to the standard full-width character grid.
          The Japanese writing system also does not use word spaces,
          and similarly focuses on adjustments to spacing around punctuation,
          script-change boundaries,
          and inter-character spacing,
          with a notable preference for compression of intra-glyph spacing
          over expansion between glyphs.</p>
        <p>Punctuation normally fits in the same square glyph as ideographic and kana characters, but typically leaves a substantial part of that square blank. When attempting to justify text on a line, justification systems may reduce the blank space in such glyphs first, before attempting other strategies.</p>
      </section>
      <section>
        <h3 id="korean"><a href="#korean">Korean Writing System</a></h3>
        <p>Like Japanese, Korean was historically written in pure Han ideographs,          but long ago developed its own phonetic script, Hangul, which has mostly supplanted ideographs in modern Korean writing.
          Also like Japanese, it has adopted punctuation and numerals.
          However, unlike Japanese, Korean has also adopted word spaces,
          and tends towards narrow (Western-style, rather than full-width) punctuation.
          This allows it to use inter-word justification:
          as in English publications, this method adjusts the spaces between words
          in order to fill the line.</p>
        <p>Unlike English, there is a tendency in modern Korean to wrap characters rather than whole words to a new line when the end of a line is reached. This can to some extent reduce the difficulty of justifying text. </p>
        <p>While Han ideographs (Hanja, in Korean) were kept as part of the writing system,
          they have become increasingly scarce over time
          such that many documents are written in pure Hangul,
          and some only use Hanja in a limited way for things such as proper nouns, or dates, or  as inline annotations for disambiguation among homophones
          rather than as part of the main text.
          However, Hanja and Hangul together remain important components of Korean writing.</p>
      </section>
      <section>
        <h3 id="latin"><a href="#latin">Latin (Roman) Writing System</a></h3>
        <p>Quite possibly the writing system familiar to more people than any other,
          the Latin writing system derives from the Roman alphabet,
          including a few additional characters and diacritic marks
          to accommodate languages such as Icelandic and modern Vietnamese.
          Thanks to the Europeans in the Age of Exploration,
          their missionaries,
          and the Western-dominated global scholastic culture of the modern age,
          most languages in the world have one or more Latin transcriptions,
          even those that do not use it as their primary writing system.</p>
        <p>The Latin alphabet is a phonetic system with disjoint letterforms,
          and typically uses spaces between words.
          This allows it to use inter-word justification,
          although it can and sometimes does adjust the spacing between individual letters as well.
          Since it is frequently adopted into other writing systems,
          it can sometimes adopt characteristics of that system;
          for example, some styles of Japanese typesetting
          treat Latin letters the same as Japanese characters
          for the purpose of line-breaking and justification.</p>
        <p>If the platform supports hyphenation, this must also be taken into account while justifying text, since it reduces the gap at the end of a full line of text.</p>
      </section>
      <section>
        <h3 id="ethiopic"><a href="#ethiopic">Ethiopic Writing System</a></h3>
        <p>Like Latin, the Ethiopic writing system uses an alphabet of disjoint letters
          and uses punctuation to indicate the break between words.
          Unlike Latin, Ethiopic traditionally uses a visible word separator –<wbr/>
          the <span class="uname">ETHIOPIC WORD SPACE U+1361</span>
          <span class="qchar">፡</span>
–<wbr/>
          although modern documents usually use a regular space U+0020 “ ” instead.
          Justification strategies are as for Latin:
          increasing the space at the word separator,
          and/or distributing space between letters.</p>
        <p>Because the traditional word space is visible, the question arises as to whether it should stay with the previous word or be centred between words when the space between words is stretched. Both approaches are attested. A similar question arises for the <span class="uname">ETHIOPIC FULL STOP U+1362</span> <span class="qchar">።</span>: should the right side space of the full stop be “more elastic” than in the regular mode, or not?</p>
      </section>
      <section>
        <h3 id="arabic"><a href="#arabic">Arabic Writing System (and Other Cursive Systems)</a></h3>
        <p>Arabic is a cursive script,
          meaning its letters are typically joined together within a word.
          This creates additional challenges,          and opportunities for full justification.</p>
        <p>Since Arabic uses spaces between words,
          one method for justification is inter-word justification –<wbr/>
          stretching out the spaces within the line to fill it.
          However,  Arabic writing also allows for  calligraphic elongation or compression,
          distorting the shapes and connections between letters
          in order to fill the line while preserving its typographic color.</p>
        <p>For example, baseline connections may be stretched (kashida), or alternate forms of glyphs, including ligated forms, may be used to lengthen or shorten words. There tend to be complex rules for the use of such techniques, which may depend on things such as the number of syllables in a word, or the proximity of a word to the start of the line, etc. The applicability of such techniques also tends to vary across different font styles, such as naskh, nastaʻlīq, and ruqʻa. Ruqʻa font styles avoid elongation techniques for justification.</p>
        <p>A simplistic variant of the kashida technique inserts baseline elongation marks  (U_0640 TATWEEL <span class="qchar">ـ</span>) at appropriate points in the text. This is particularly problematic for browser-based text, since different window widths require different distributions of the tatweel character in order to correctly justify the text in a paragraph.</p>
        <p>Syriac and Mongolian
          have properties similar to Arabic,
          and in the absence of additional information should be given
          similar treatment for justification.</p>
      </section>
      <section>
        <h3 id="tibetan"><a href="#tibetan">Tibetan Writing System</a></h3>
        <p>Tibetan is a Brahmic writing system related to Indic scripts like Devanagari and Gujarati;
          however, unlike these systems, it does not use Western-style punctuation
          nor spaces between words,
          and instead uses the <span class="uname">TIBETAN MARK INTERSYLLABIC TSHEG U+0F0B</span> <span class="qchar">་</span>
          between individual syllables (regardless of word boundaries),
          and has its own punctuation marks such as the <span class="uname">TIBETAN MARK SHAD U+0F0D </span> <span class="qchar">།</span> and <span class="uname">TIBETAN MARK NYIS SHAD U+0F0E</span> <span class="qchar">༎</span>,
          which indicate the end of longer segments.</p>
        <p>Justification techniques used in Tibetan include stretching the space after a shad, minutely increasing the spaces after tsheg marks,
          and simply filling the remaining space on a line with tsheg marks.</p>
      </section>
      <section>
        <h3 id="sea"><a href="#sea">Southeast Asian Writing Systems</a></h3>
        <p>In Southeast Asian systems such as Thai and Lao,
          letters are merged together into <span class="qterm">clusters</span>.
          There are no spaces between words
          (lines must be broken by dictionary lookup),
          but spaces serve to separate larger units of text.</p>
        <p>Techniques for justification include stretching spaces on the line
          (if it happens to have any)
          and interspersing extra space between clusters.</p>
        <p>Scripts in this category include
          Khmer, Myanmar, Lao, and Thai.</p>
      </section>
      <section>
        <h3 id="other"><a href="#other">Other Writing Systems</a></h3>
        <p>Most (but not all) writing systems not mentioned here
          have discrete letters, like Latin,
          and in the absence of more specific information
          may be assumed to justify in a similar manner.</p>
        <p class="note" role="note">Note: Readers who wish to provide such “more specific information”
          are invited (and strongly encouraged)
          to contact the <a href="mailto:www-internation@w3.org">W3C Internationalization Working Group</a> so that we can add information or links to this article and the typography index.</p>
      </section>
</section>


<section>
  <h2>Advice for implementers and authors</h2>
      <p>In this section we provide additional advice for implementers related to justification.</p>
      <p class="ed">I find this whole section a little dubious. It seems to start from the assumption that language tags are a prime factor in choosing a justification strategy, and that an absence of language metadata will cause justification to fail. There may certainly be line-break rules  that are modified by language, particularly in the case of ideographic-based text, but i don't think it's clear what parameters of justification are affected by a knowledge of the language, much less the need for a script subtag. The section subsection starts out talking about how to handle untagged text, but the bullet points rely on language knowledge for application of the different approaches outlined.</p>
      <section id="tagging_by_script">
        <h3>Tagging Content By Writing System</h3>
        <p><ins>User agents should not assume that text in a particular language uses a particular writing system when choosing a justification strategy. Justification behavior varies by script rather than by language.</ins></p>
        <p>While most languages have a preferred writing system,
	many can be transcribed into a different system.
	As a common example, most languages have a Latin transcription,
	and can thus be written in the Latin writing system.
	In these cases the document typically adopts the typographic conventions of the Latin writing system:
	for example Japanese “romaji” and Chinese Pinyin use word spaces and justify accordingly.
	As another example, historical ideographic Korean
	(<code>ko-Hant</code>)
	does not use word spaces,
	and should therefore be justified as for Chinese.</p>
   <p>Authors <del>can</del><ins>may </ins> indicate the use of the Latin writing system
	with the <del><code>-Latn</code></del> language subtag,
	e.g. <code>ja-Latn</code> for Japanese romaji<ins>, ko-Hant for Korean written in hanja (Chinese ideographic characters), az-Arab for Azerbaijani written with the arabic script, etc.</ins><del>.
	Other subtags exist for other writing systems,
	see ????.
	Some common/historical examples follow:</del></p>
   <div class="example" id="example-95b4e286">
    <dl>
      <del>
     <dt><code>zh-Latn</code> 
     </dt><dd>Chinese, written in Latin transcription 
     </dd><dt><code>ko-Hant</code> 
     </dt><dd>Korean, written in Hanja (Chinese ideographic characters) 
     </dd><dt><code>??-Arab</code> 
     </dt><dd>Turkish, written in Arabic script. 
     </dd><dt><code>??-???</code> 
     </dt><dd>Mongolian, written in Cyrillic 
     </dd><dt><code>??-???</code> 
     </dt><dd>Mongolian, written in traditional Mongolian script. 
     </dd>
      </del>
    </dl>
   </div>
   <p><del>UAs should assume the most common writing system for a given language
	when choosing a justification strategy,
	but must not assume that writing system
	if the author has explicitly indicated a different one.</del></p>
      </section>
      <section id="justification_untagged">
        <h3>Justifying Untagged Content</h3>
<p>Web browsers frequently have to deal with untagged, potentially mixed-script content.
	The following are some guidelines for designing a strategy to deal with such content.</p>
   <ul>
    <li>Since Chinese and Japanese do not use spaces to provide justification opportunities,
		CJK content (Han, Hiragana, Katakana, and Hangul)
		should be allowed to accept inter-character spacing. 
    </li><li>Since Japanese content prefers compression,
		CJK fullwidth punctuation characters, if present on a line,
		should be compressed at a higher priority (if possible) than expanding spaces
		or letter-spacing. 
    </li><li>Since Korean prefers expanding spaces to expanding between characters,
		spaces should be expanded at a higher priority (if possible)
		than letter-spacing. 
   </li></ul>
    <p class="advisement"> Authors should use (correct) language tags
	in order to get the best possible typographic behavior.
	For example, if Japanese text is tagged as Japanese,
	the UA knows to preferentially compress the space rather than expand it.</p> 
      </section>
</section>
<section>
  <h2 id="endlinks"><a href="#endlinks">Further reading</a></h2>
<aside class="section" id="survey"> </aside><script>document.getElementById('survey').innerHTML = g.survey</script>

  <ul id="full-links">
    <li>
      <p>Related links, <cite>International text layout and typography</cite>, <a href="http://w3c.github.io/typography/#justification">3.3 Justification &amp; line-end alignment</a></p>
    </li>
    <li>
      <p>Related links, <cite>Authoring HTML &amp; CSS</cite></p><ul><li><a href="/International/techniques/authoring-html#style">Styling &amp; layout</a></li>
        <li><a href="/International/techniques/authoring-html#justification">Justifying and aligning text</a></li>
      </ul>
    </li>
  </ul>
</section>

<footer id="thefooter"></footer><script type="text/javascript">document.getElementById('thefooter').innerHTML = g.bottomOfPage</script>
<script type="text/javascript">completePage()</script>
</body>
</html>
